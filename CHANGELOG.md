# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/), and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## Added

- 新增解析仅作者可见的帖子回复。
- 加载图片时显示带微光的占位图片以提示加载状态。

### Fixed

- 修复设置色调时没有显示当前使用的色调颜色的问题。
- 修复设置色调时对话框标题会随着滚动的问题。
- 修复访问没有权限查看的分区时没有提示的问题。
- 修复部分情况下在帖子里的图片加载失败时不显示默认图片的问题。
- 修复一些图片加载失败的问题。

## [0.4.0] - 2024-01-21

### Added

- 新增支持旅行者主题。
- 新增支持给帖子评分。
- 当从网络请求拉取图片失败时，使用默认的图片logo。
- 现在首页，分区和个人资料页可以下拉刷新。
- 去除了首屏加载页，现在软件启动后直接进入首页。
- 现在设置页面中修改签到想说的话时默认显示当前想说的话，方便修改。
- 现在搜索页内刷新搜索结果时会隐藏之前的搜索结果。
- 现在消息页面内，评分消息如果评分理由为空，会隐藏评分理由。
- 现在会缓存我的提醒页面内选项卡中已加载的数据，不再在切换选项卡时刷新。

### Fixed

- 修复不属于任何分类的帖子的页面内标题为空的问题。
- 修复无法从帖子的艾特（@）查看用户信息的问题。
- 修复用户信息页面的头像在头像不可用时未使用默认头像的问题。
- 修复用户信息页面打开几秒后会闪烁一次的问题。
- 修复论坛和帖子页面内有时候无法下拉刷新的问题。
- 修复消息页内无法通过评分类型的消息跳转到相应帖子的问题。

### Changed

- 更新隐藏区域卡片上的按钮样式，更明显。
- 如果帖子的评分消息中评分理由为空，不显示评分理由。
- 登录后，加载首页的时机推迟到访问首页时，而不是登录后直接加载。
- 帖子已经加载完时不再显示toast，而是显示snack bar。
- internal: 从riverpod迁移到bloc。

## [0.3.0] - 2023-12-30

### Added

- 新增解析帖子名称的颜色和字重。
- 新增解析帖子分类和状态图标（已关闭，评分，投票，加精，置顶等）。
- 新增解析论坛页面中的置顶帖。
- 新增解析一级标题到四级标题。
- 新增解析代码块标签（\<code\>）。
- 新增设置->关于->开源许可页面。
- 新增设置颜色色调。
- 新增用户信息页面，支持从楼层和帖子卡片跳转。
- 在已被关闭的帖子内关闭回复栏。
- 解析无序列表时在文字前添加圆点。
- 支持检查和下载最新版本。
- 支持从提醒跳转到帖子对应楼层的页面（目前只能滚动到同一页）。

### Fixed

- 修复页面中时间显示和网页端有误差的问题。
- 修复帖子页面加载数据报错。
- 修复论坛页面跳页后子论坛标签页内容变空的问题。
- 修复论坛页面在子版块标签页内无法跳页的问题。
- 修复论坛卡片上的最新帖子无法跳转的问题。
- 修复帖子内发送回复后发送按钮依然可点击的问题。
- 修复论坛页面刷新时偶见的异常。
- 修复清除缓存时卡住的问题。
- 修复帖子内标题包含分区名等非标题信息的问题。
- 修复搜索页面可能在窄屏幕上溢出问题。

## [0.2.0] - 2023-12-22

### Added

- 新增解析帖子楼层正文`postmessage`中的隐藏部分。
- 新增解析帖子中由于积分不足而隐藏的部分。
- 新增解析帖子中回复后才可见的部分。
- 新增解析对帖子回复的点评。
- 新增解析帖子中的展开/折叠部分。
- 现在打开帖子中的链接时对支持的链接优先以页面的形式在应用内打开。
- 现在论坛页面和帖子页面支持电梯直达。
- 帖子的评分表支持左右滚动以适应屏幕过窄的情况。
- 现在在帖子页面的列表顶部会显示帖子ID和帖子分类。

### Fixed

- 修复无法在具有多个隐藏部分的帖子中购买的问题。
- 修复当帖子的回复评分为扣分时显示总评分为空的问题。
- 修复安卓上帖子标题下方空白和其他页面不一致的问题。
- 修复搜索页面中跳页的对话框默认选中的页不是当前页的问题。
- 修复解析帖子分类时失败的问题。
- 修复因为未解析`pre`标签导致部分楼层内容为空的问题。
- 修复帖子中某些文字段落之间的换行消失的问题。

### Changed

- 展示帖子回复中代码块的方式由下划线文本改为代码卡片。
- 帖子页面中楼层顶部的标题使用完整的标题。
- 分区页面的分区标签栏按左对齐。

## [0.1.1] - 2023-12-17

### Fixed

- 修复主页帖子跳转失败的问题。

## [0.1.0] - 2023-12-16

### Added

- 首个release，新增基本的登录，看帖，回复等功能。

